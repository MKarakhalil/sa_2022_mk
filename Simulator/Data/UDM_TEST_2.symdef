%--------------------------------------------------------------------------
definitions:
%--------------------------------------------------------------------------
dynamic_states M S=0 Status xTime
external_states y1=1 y2=0
events -!ev_yab -!ev_yauf +!ev_on
parameters ymax=1 ymin=0 Ton=1 m_auf=1 m_ab=-1
parameters minval maxval minout maxout
%--------------------------------------------------------------------------
initializations:
%--------------------------------------------------------------------------
 
%--------------------------------------------------------------------------
f_equations:
%-------------------------------------------------------------------------- 
dt(S)=0
dt(Status) = 0
if t < 0
	dt(M) = 0
	dt(xTime) = 0
else
	dt(M) = S
	dt(xTime) = 1
end
%-------------------------------------------------------------------------- 
g_equations:
%--------------------------------------------------------------------------
ev_on = xTime - Ton
ev_yauf = ymin - M
ev_yab = ymax - M
if t < 0
	y1 = 0
else
	y1 = Status * M
end
y2 = relay(y1,minval,maxval,minout,maxout)
%--------------------------------------------------------------------------
h_equations:
%--------------------------------------------------------------------------
if ev_on == 0
	Status+ = 1
    S+ = m_auf
end
if ev_yab == 0
    S+ = m_ab
end
if ev_yauf == 0
    S+ = m_auf
end