VERSION=1
%-------------------------------------------------------------------------- 
definitions: 
%--------------------------------------------------------------------------
baseclass=TSMController
controllertype=TURB
dynamic_states dV2 dV3 dV6=1 dV7=1 dV8=1
inputs W=1 POREF
external_states PMECH=1  
internal_states V1 V2 V3 V4 V5 V6=1 V7=1 V8=1
parameters K1=1 T1=0.5 T2=1 T3=0.5 PMIN=-5 PMAX=5 T4=0.5 K2=0.5 T5=0.5 K3=0.5 T6=0.5
%--------------------------------------------------------------------------
initializations:
%--------------------------------------------------------------------------
 
%--------------------------------------------------------------------------
f_equations:
%-------------------------------------------------------------------------- 

%-------------------------------------------------------------------------- 
g_equations:
%--------------------------------------------------------------------------
g01 = V2 - lag(V1,dV2,K1,T1,none,none)
g02 = V3 - leadlag(V2,dV3,1.0,T2,T3,none,none)
g03 = V6 - lag(V5,dV6,1.0,T4,none,none)
g04 = V7 - lag(V6,dV7,K2,T5,none,none)
g05 = V8 - lag(V7,dV8,K3,T6,none,none)
%-----------------------
g06 = V1 - (W-1)
%-----------------------
g07 = V4 - (POREF-V3)
%-----------------------
g08 = V5 - limit(V4,PMIN,PMAX,1)
%-----------------------
g09 = PMECH - (V8+V7*(1-K3)+V6*(1-K2))
%--------------------------------------------------------------------------
h_equations:
%--------------------------------------------------------------------------

%--------------------------------------------------------------------------
checklimits:
%--------------------------------------------------------------------------

%--------------------------------------------------------------------------
checkparameters:
%--------------------------------------------------------------------------